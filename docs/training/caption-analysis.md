# Caption å®Œæ•´æ€§åˆ†æå ±å‘Š

**æ—¥æœŸ**: 2025-11-11
**åˆ†æå°è±¡**: Luca Human è¨“ç·´æ•¸æ“šé›†
**Caption æ•¸é‡**: 191 å€‹
**åˆ†æä¾æ“š**: ChatGPT æä¾›çš„è©³ç´°è§’è‰²åˆ†æè³‡æ–™

---

## ğŸ“Š ç•¶å‰ Caption çµæ§‹åˆ†æ

### **Caption ç¯„ä¾‹ï¼ˆå®Œæ•´ç‰ˆï¼‰ï¼š**

```
a 3d animated character,
12-year-old italian pre-teen boy,
short and slim build,
large round brown eyes,
thick arched eyebrows,
button red-tinted nose,
rosy cheeks,
soft oval face,
short dark-brown wavy curls with front quiff,
barefoot,
pixar stylized skin with subtle SSS and smooth shading,
Luca Paguro from Pixar Luca,
In this Pixar 3D animated image, Luca Paguro, a young sea monster in human form,
stands confidently with a slight smile, showcasing his light skin tone and brown curly hair.
He wears a striped shirt with rolled-up sleeves, highlighting his playful and adventurous spirit.
The lighting is soft and natural, emphasizing the detailed rendering of his features and clothing.
The background is blurred, keeping the focus...
```

---

## âœ… **å·²åŒ…å«çš„ç´°ç¯€ï¼ˆå„ªé»ï¼‰**

### 1ï¸âƒ£ **å¹´é½¡æè¿°** âœ… å®Œæ•´
- âœ… `12-year-old italian pre-teen boy`
- âœ… æ˜ç¢ºå¹´é½¡å±¤
- âœ… æ–‡åŒ–èƒŒæ™¯ï¼ˆItalianï¼‰

### 2ï¸âƒ£ **è‡‰éƒ¨ç‰¹å¾µ** âœ… éå¸¸è©³ç´°
- âœ… `large round brown eyes` - çœ¼ç›å½¢ç‹€å’Œé¡è‰²
- âœ… `thick arched eyebrows` - çœ‰æ¯›ç²—ç´°å’Œå½¢ç‹€
- âœ… `button red-tinted nose` - é¼»å­å½¢ç‹€å’Œé¡è‰²
- âœ… `rosy cheeks` - è‡‰é °ç‰¹å¾µ
- âœ… `soft oval face` - è‡‰å‹è¼ªå»“

### 3ï¸âƒ£ **é«®å‹æè¿°** âœ… ç²¾ç¢º
- âœ… `short dark-brown wavy curls with front quiff`
- âœ… é•·åº¦ã€é¡è‰²ã€è³ªåœ°ã€å‰é«®é€ å‹

### 4ï¸âƒ£ **é«”å‹è¼ªå»“** âœ… æ˜ç¢º
- âœ… `short and slim build`
- âœ… èº«é«˜é«”å‹æ¯”ä¾‹

### 5ï¸âƒ£ **æè³ªé¢¨æ ¼** âœ… å°ˆæ¥­
- âœ… `pixar stylized skin with subtle SSS and smooth shading`
- âœ… æåˆ°æ¬¡è¡¨é¢æ•£å°„ï¼ˆSSSï¼‰
- âœ… å¼·èª¿å¹³æ»‘è‘—è‰²

### 6ï¸âƒ£ **è§’è‰²èº«ä»½** âœ… æ¸…æ¥š
- âœ… `Luca Paguro from Pixar Luca`
- âœ… é›»å½±ä¾†æºæ˜ç¢º

### 7ï¸âƒ£ **æœè£ç´°ç¯€** âœ… æœ‰æè¿°
- âœ… `striped shirt`
- âœ… éƒ¨åˆ† caption æœ‰ `rolled-up sleeves`

---

## âš ï¸ **ç¼ºå°‘æˆ–ä¸è¶³çš„éƒ¨åˆ†ï¼ˆéœ€æ”¹å–„ï¼‰**

### 1ï¸âƒ£ **å…‰ç…§æè¿°** âŒ **æœ€åš´é‡å•é¡Œ**

**ç•¶å‰ï¼š**
```
"soft, natural lighting"
"lighting highlights his features"
```

**å•é¡Œï¼š**
- âŒ å¤ªæ³›æ³›ï¼Œç„¡æ³•å°æŠ— SD çš„é«˜å°æ¯”åº¦åå¥½
- âŒ ã€Œnatural lightingã€æš—ç¤ºå¤ªé™½å…‰ç­‰æ–¹å‘æ€§å…‰æº
- âŒ ã€Œhighlightsã€æœƒé€ æˆå±€éƒ¨éäº®
- âŒ **å®Œå…¨ç¼ºå°‘ã€Œuniformã€ï¼ˆçµ±ä¸€ï¼‰å’Œã€Œlow contrastã€ï¼ˆä½å°æ¯”åº¦ï¼‰**

**æ‡‰è©²æ”¹ç‚ºï¼š**
```
"pixar uniform lighting, even illumination, low contrast,
subtle ambient occlusion, no harsh shadows"
```

---

### 2ï¸âƒ£ **ä¸€è‡´æ€§é¢¨æ ¼æ¨™è¨˜** âš ï¸ **ä¸å¤ å¼·èª¿**

**ç•¶å‰ï¼š**
```
"Pixar's signature 3D animation"
"characteristic of Pixar"
```

**å•é¡Œï¼š**
- âš ï¸ æåˆ°äº† Pixarï¼Œä½†æ²’æœ‰å¼·èª¿ã€Œä¸€è‡´æ€§ã€
- âš ï¸ ç¼ºå°‘ã€Œfilm-qualityã€ã€ã€Œcinematicã€ç­‰é—œéµè©
- âš ï¸ æ²’æœ‰æ˜ç¢ºèªªæ˜é€™æ˜¯**é›»å½±é¢¨æ ¼**è€Œéæ”å½±æˆ–æ’ç•«

**å»ºè­°å¢å¼·ï¼š**
```
"pixar film quality, cinematic rendering, consistent character design,
uniform style throughout, 3d animation film aesthetic"
```

---

### 3ï¸âƒ£ **æ•´é«” 3D é¢¨æ ¼** âš ï¸ **å¯ä»¥æ›´æ˜ç¢º**

**ç•¶å‰ï¼š**
```
"3d animated character"
"Pixar 3D animated image"
```

**å•é¡Œï¼š**
- âš ï¸ æœ‰æåˆ° 3Dï¼Œä½†æ²’æœ‰å¼·èª¿ **3D å‹•ç•«é›»å½±** çš„ç‰¹å®šè¦–è¦ºèªè¨€
- âš ï¸ ç¼ºå°‘ã€Œsmooth geometryã€ã€ã€Œclean topologyã€ç­‰ 3D ç‰¹å¾µ

**å»ºè­°å¢å¼·ï¼š**
```
"3d cg character, smooth mesh geometry, clean topology,
subdivision surface shading, physically based rendering (PBR)"
```

---

### 4ï¸âƒ£ **è‰²å½©èª¿æ€§** âš ï¸ **ä¸å¤ å…·é«”**

**ç•¶å‰ï¼š**
```
"vibrant colors"
"pastel-colored setting"
```

**å•é¡Œï¼š**
- âš ï¸ ã€Œvibrantã€å¯èƒ½é€ æˆéåº¦é£½å’Œ
- âš ï¸ æ²’æœ‰æè¿° Pixar é›»å½±ç‰¹æœ‰çš„è‰²èª¿ç®¡ç†

**å»ºè­°å¢å¼·ï¼š**
```
"film color grading, balanced saturation, warm color palette,
italian riviera color scheme"
```

---

### 5ï¸âƒ£ **ç´°ç¯€å®Œæ•´æ€§** âš ï¸ **éƒ¨åˆ† caption è¢«æˆªæ–·**

æ¨£æœ¬ä¸­å¤šå€‹ caption çµå°¾æ˜¯ï¼š
```
"The background is blurred, keeping the focus."  (æœªå®Œæˆ)
```

**å•é¡Œï¼š**
- âš ï¸ å¯èƒ½åœ¨ç”Ÿæˆéç¨‹ä¸­è¢«æˆªæ–·
- âš ï¸ å½±éŸ¿å®Œæ•´èªç¾©

**éœ€æª¢æŸ¥ï¼š**
æ˜¯å¦æ‰€æœ‰ caption éƒ½å®Œæ•´ï¼Ÿ

---

## ğŸ“‹ **æ”¹é€²å¾Œçš„ç†æƒ³ Caption çµæ§‹**

### **æ¨è–¦çš„ Caption æ¨¡æ¿ï¼š**

```
[å‰ç¶´ - é¢¨æ ¼å’Œå…‰ç…§]
a 3d animated character, pixar uniform lighting, even illumination,
low contrast, film quality rendering,

[æ ¸å¿ƒè§’è‰²ç‰¹å¾µ]
12-year-old italian pre-teen boy, short and slim build,
large round brown eyes, thick arched eyebrows, button red-tinted nose,
rosy cheeks, soft oval face, short dark-brown wavy curls with front quiff,

[æè³ªå’Œè‘—è‰²]
pixar stylized skin with subtle subsurface scattering, smooth shading,
clean 3d geometry, physically based materials,

[è§’è‰²èº«ä»½]
Luca Paguro from Pixar Luca (2021), young sea monster in human form,

[å ´æ™¯æè¿°]
wearing striped shirt with rolled-up sleeves, [å‹•ä½œæè¿°],
warm italian riviera atmosphere, soft blurred background,
cinematic composition, film color grading
```

---

## ğŸ”§ **ä¿®æ­£æ–¹æ¡ˆå°æ¯”**

### **æ–¹æ¡ˆ Aï¼šæœ€å°ä¿®æ­£ï¼ˆå¿«é€Ÿï¼‰**
åªæ·»åŠ å…‰ç…§å‰ç¶´ï¼š
```python
"a 3d animated character, pixar uniform lighting, even illumination,
low contrast, [åŸå§‹ caption å…¶é¤˜éƒ¨åˆ†]"
```

**å„ªé»ï¼š**
- âœ… æœ€å¿«å¯¦æ–½
- âœ… è§£æ±ºæœ€åš´é‡çš„å…‰ç…§å•é¡Œ
- âœ… Token å¢åŠ å°‘ï¼ˆç´„ 8-10 å€‹ï¼‰

**ç¼ºé»ï¼š**
- âš ï¸ å…¶ä»–å•é¡Œæœªè§£æ±º

---

### **æ–¹æ¡ˆ Bï¼šå…¨é¢å„ªåŒ–ï¼ˆæ¨è–¦ï¼‰**
é‡æ–°ç”Ÿæˆæ‰€æœ‰ captionï¼š

1. **ä¿ç•™å„ªç§€éƒ¨åˆ†**ï¼š
   - å¹´é½¡ã€è‡‰éƒ¨ã€é«”å‹ã€é«®å‹æè¿°
   - è§’è‰²èº«ä»½

2. **å¢å¼·ä¸è¶³éƒ¨åˆ†**ï¼š
   - å…‰ç…§ï¼š`pixar uniform lighting, even illumination, low contrast`
   - é¢¨æ ¼ï¼š`film quality, cinematic rendering`
   - è‰²å½©ï¼š`film color grading, balanced saturation`
   - æè³ªï¼šæ˜ç¢º PBR å’Œ SSS

3. **ç¢ºä¿å®Œæ•´æ€§**ï¼š
   - æª¢æŸ¥æ‰€æœ‰è¢«æˆªæ–·çš„ caption
   - çµ±ä¸€é•·åº¦ï¼ˆ60-77 tokensï¼‰

**å„ªé»ï¼š**
- âœ… æœ€å¾¹åº•è§£æ±ºæ‰€æœ‰å•é¡Œ
- âœ… æœ€å¤§åŒ–è¨“ç·´æ•ˆæœ

**ç¼ºé»ï¼š**
- âš ï¸ éœ€è¦è¼ƒå¤šæ™‚é–“è™•ç†
- âš ï¸ Token æ•¸é‡å¢åŠ ï¼ˆå¯èƒ½é”åˆ° 77 ä¸Šé™ï¼‰

---

### **æ–¹æ¡ˆ Cï¼šæ¼¸é€²å„ªåŒ–**
åˆ†éšæ®µæ”¹å–„ï¼š

**éšæ®µ 1ï¼ˆç«‹å³ï¼‰ï¼š** å…‰ç…§ä¿®æ­£
```bash
python scripts/training/fix_lighting_captions.py --short
```

**éšæ®µ 2ï¼ˆå¦‚æœéšæ®µ 1 æ•ˆæœä¸å¤ ï¼‰ï¼š** é¢¨æ ¼å¢å¼·
æ·»åŠ é¢¨æ ¼å’Œè‰²å½©æè¿°

**éšæ®µ 3ï¼ˆå¦‚æœéœ€è¦ï¼‰ï¼š** å®Œå…¨é‡å¯«
ä½¿ç”¨ VLM é‡æ–°ç”Ÿæˆ

---

## ğŸ“Š **Token æ•¸é‡åˆ†æ**

### ç•¶å‰å¹³å‡ Token æ•¸ï¼š
```
å‰ç¶´éƒ¨åˆ†: 3 tokens ("a 3d animated")
è§’è‰²æè¿°: 35-40 tokens
å ´æ™¯æè¿°: 25-30 tokens
ç¸½è¨ˆ: ç´„ 60-73 tokens
```

### æ·»åŠ å…‰ç…§å‰ç¶´å¾Œï¼š
```
å…‰ç…§å‰ç¶´: +8 tokens ("pixar uniform lighting, even illumination, low contrast")
ç¸½è¨ˆ: ç´„ 68-81 tokens
```

âš ï¸ **æ³¨æ„**: SD 1.5 çš„ CLIP token ä¸Šé™æ˜¯ **77 tokens**ï¼Œéƒ¨åˆ† caption å¯èƒ½è¶…å‡ºã€‚

**è§£æ±ºæ–¹æ¡ˆï¼š**
1. ä½¿ç”¨ `--short` é¸é …ï¼ˆçŸ­ç‰ˆå…‰ç…§æè¿°ï¼Œåª+4 tokensï¼‰
2. æˆ–ç¸®æ¸›å ´æ™¯æè¿°éƒ¨åˆ†
3. æˆ–ä½¿ç”¨ CLIP skip 2ï¼ˆå·²ç¶“åœ¨ç”¨ï¼‰

---

## ğŸ¯ **æ¨è–¦åŸ·è¡Œè¨ˆç•«**

### **ç«‹å³åŸ·è¡Œï¼ˆç•¶å‰è¨“ç·´å®Œæˆå¾Œï¼‰ï¼š**

1. **é‹è¡Œå…‰ç…§ä¿®æ­£è…³æœ¬ï¼ˆçŸ­ç‰ˆï¼‰**
   ```bash
   python scripts/training/fix_lighting_captions.py \
     /mnt/data/ai_data/datasets/3d-anime/luca/curated_dataset/luca_human/images \
     --short

   python scripts/training/fix_lighting_captions.py \
     /mnt/data/ai_data/datasets/3d-anime/luca/curated_dataset/alberto_human/images \
     --short
   ```

2. **æª¢æŸ¥ä¿®æ­£çµæœ**
   ```bash
   # æª¢æŸ¥å‰3å€‹æ¨£æœ¬
   python scripts/training/fix_lighting_captions.py \
     .../luca_human/images \
     --short \
     --dry-run
   ```

3. **é‡æ–°è¨“ç·´**
   ```bash
   python scripts/training/launch_iterative_training.py
   ```

4. **æ¯”è¼ƒç”Ÿæˆçµæœ**
   - å°æ¯”ä¿®æ­£å‰/å¾Œçš„å…‰ç…§æ•ˆæœ
   - æ¸¬é‡å°æ¯”åº¦å·®ç•°

---

### **å¦‚æœå…‰ç…§ä¿®æ­£æ•ˆæœä¸å¤ ï¼ˆPlan Bï¼‰ï¼š**

5. **å…¨é¢å„ªåŒ– caption**
   - æ‰‹å‹•ç·¨è¼¯ä»£è¡¨æ€§æ¨£æœ¬
   - æˆ–ä½¿ç”¨ VLM é‡æ–°ç”Ÿæˆ
   - å¢å¼·é¢¨æ ¼å’Œè‰²å½©æè¿°

---

## âœ… **ç¸½çµ**

### ç•¶å‰ Caption è³ªé‡è©•åˆ†ï¼š

| é …ç›® | è©•åˆ† | èªªæ˜ |
|------|------|------|
| å¹´é½¡æè¿° | â­â­â­â­â­ 5/5 | éå¸¸å®Œæ•´ç²¾ç¢º |
| è‡‰éƒ¨ç‰¹å¾µ | â­â­â­â­â­ 5/5 | æ¥µå…¶è©³ç´° |
| é«”å‹è¼ªå»“ | â­â­â­â­â­ 5/5 | æ¸…æ™°æ˜ç¢º |
| é«®å‹æè¿° | â­â­â­â­â­ 5/5 | éå¸¸ç²¾ç¢º |
| æè³ªé¢¨æ ¼ | â­â­â­â­â˜† 4/5 | å¥½ï¼Œä½†å¯æ›´å¼·èª¿ PBR |
| **å…‰ç…§æè¿°** | â­â­â˜†â˜†â˜† 2/5 | **æœ€å¼±ç’°ç¯€ï¼Œéœ€ç«‹å³ä¿®æ­£** |
| ä¸€è‡´æ€§é¢¨æ ¼ | â­â­â­â˜†â˜† 3/5 | æœ‰æåˆ°ä½†ä¸å¤ å¼·èª¿ |
| è‰²å½©èª¿æ€§ | â­â­â­â˜†â˜† 3/5 | å¯ä»¥æ›´ç²¾ç¢º |

**ç¸½é«”è©•åˆ†ï¼š 4.0/5**

**ä¸»è¦å„ªå‹¢ï¼š** è§’è‰²ç´°ç¯€æè¿°æ¥µå…¶å®Œæ•´
**æœ€å¤§å¼±é»ï¼š** å…‰ç…§æè¿°ä¸è¶³ï¼Œå°è‡´é«˜å°æ¯”åº¦å•é¡Œ

**å»ºè­°ï¼š** ç«‹å³åŸ·è¡Œå…‰ç…§ä¿®æ­£ï¼Œé æœŸå¯æå‡è‡³ 4.5/5

---

## ğŸ“ é™„éŒ„ï¼šä¿®æ­£è…³æœ¬ä½¿ç”¨æŒ‡å—

### å¿«é€Ÿå‘½ä»¤ï¼š

```bash
# 1. é è¦½æ•ˆæœ
python scripts/training/fix_lighting_captions.py \
  /path/to/images \
  --short \
  --dry-run

# 2. å¯¦éš›ä¿®æ­£
python scripts/training/fix_lighting_captions.py \
  /path/to/images \
  --short

# 3. ä½¿ç”¨é•·ç‰ˆï¼ˆå¦‚æœ token ç©ºé–“è¶³å¤ ï¼‰
python scripts/training/fix_lighting_captions.py \
  /path/to/images
```

### åƒæ•¸èªªæ˜ï¼š
- `--short`: ä½¿ç”¨çŸ­ç‰ˆå…‰ç…§æè¿°ï¼ˆ4 tokensï¼‰
- `--dry-run`: åªé è¦½ä¸å¯«å…¥
- `--output-dir`: æŒ‡å®šè¼¸å‡ºç›®éŒ„ï¼ˆé è¨­è¦†è“‹åŸæª”ï¼‰
