# SAM2 é€²åº¦ç›£æ§æŒ‡å—

## ğŸ“Š ç›£æ§å·¥å…·ç¸½è¦½

æ‚¨æœ‰å…©å€‹ç›£æ§å·¥å…·å¯ä»¥ä½¿ç”¨ï¼š

### 1. check_sam2.shï¼ˆæ¨è–¦ï¼‰

**ä½ç½®ï¼š** `scripts/utils/check_sam2.sh`

**åŠŸèƒ½ï¼š** ç¾è§€çš„ç‹€æ…‹é¡¯ç¤ºï¼Œæ”¯æŒå–®æ¬¡æŸ¥çœ‹å’Œè‡ªå‹•åˆ·æ–°

### 2. watch_sam2.shï¼ˆè¼•é‡ç´šï¼‰

**ä½ç½®ï¼š** `scripts/utils/watch_sam2.sh`

**åŠŸèƒ½ï¼š** ç°¡å–®çš„å¯¦æ™‚ç›£æ§

---

## ğŸ¯ check_sam2.sh ä½¿ç”¨æ–¹æ³•

### æ¨¡å¼ 1ï¼šå–®æ¬¡æª¢æŸ¥

**é©ç”¨å ´æ™¯ï¼š** å®šæœŸæ‰‹å‹•æŸ¥çœ‹é€²åº¦

```bash
bash scripts/utils/check_sam2.sh
```

**é¡¯ç¤ºå…§å®¹ï¼š**
```
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           ğŸ¬ SAM2 Instance Segmentation Status
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ… Status: RUNNING
ğŸ“Š Total instances: 8,940
ğŸï¸  Latest scene: scene0318
ğŸ“ˆ Progress: 318/1441 scenes (22%)
[â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘] 22%
ğŸ® GPU: 100% utilization, 15787 MiB memory
â±ï¸  Last update: 2025-11-09 20:46:01
âœ… Activity: Processing normally

â° Estimated remaining: ~1h 14m
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ’¡ Tips:
  - Auto-refresh: bash scripts/utils/check_sam2.sh --watch
  - View tmux session: tmux attach -t luca_sam2
```

---

### æ¨¡å¼ 2ï¼šè‡ªå‹•ç›£æ§ï¼ˆæ–°åŠŸèƒ½ï¼ï¼‰âœ¨

**é©ç”¨å ´æ™¯ï¼š** æŒçºŒè§€å¯Ÿé€²åº¦ï¼Œç„¡éœ€æ‰‹å‹•åˆ·æ–°

```bash
bash scripts/utils/check_sam2.sh --watch
```

æˆ–ç°¡å¯«ï¼š

```bash
bash scripts/utils/check_sam2.sh -w
```

**åŠŸèƒ½ï¼š**
- âœ… æ¯ 30 ç§’è‡ªå‹•åˆ·æ–°
- âœ… æ¸…å±é‡æ–°é¡¯ç¤ºï¼ˆä¿æŒç•«é¢æ•´æ½”ï¼‰
- âœ… é¡¯ç¤ºæ‰€æœ‰è©³ç´°è³‡è¨Šï¼ˆé€²åº¦æ¢ã€GPUã€é ä¼°æ™‚é–“ï¼‰
- âœ… æŒ‰ `Ctrl+C` éš¨æ™‚åœæ­¢

**è¼¸å‡ºç¯„ä¾‹ï¼š**
```
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           ğŸ¬ SAM2 Instance Segmentation Status
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ… Status: RUNNING
ğŸ“Š Total instances: 8,940
ğŸï¸  Latest scene: scene0318
ğŸ“ˆ Progress: 318/1441 scenes (22%)
[â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘] 22%
ğŸ® GPU: 100% utilization, 15787 MiB memory
â±ï¸  Last update: 2025-11-09 20:46:01
âœ… Activity: Processing normally

â° Estimated remaining: ~1h 14m
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ”„ Auto-refresh mode: Updates every 30s
   Press Ctrl+C to stop

[30 ç§’å¾Œè‡ªå‹•åˆ·æ–°...]
```

---

## ğŸ“‹ å…©ç¨®ç›£æ§å·¥å…·å°æ¯”

| ç‰¹æ€§ | check_sam2.sh | watch_sam2.sh |
|------|---------------|---------------|
| **å–®æ¬¡æª¢æŸ¥** | âœ… é è¨­æ¨¡å¼ | âŒ |
| **è‡ªå‹•åˆ·æ–°** | âœ… `--watch` | âœ… é è¨­æ¨¡å¼ |
| **é€²åº¦æ¢** | âœ… | âŒ |
| **é ä¼°æ™‚é–“** | âœ… | âŒ |
| **GPU ç‹€æ…‹** | âœ… | âŒ |
| **å¡ä½è­¦å‘Š** | âœ… | âœ… |
| **è¼¸å‡ºæ ¼å¼** | ç¾è§€ã€è©³ç´° | ç°¡æ½”ã€æ—¥èªŒå¼ |

---

## ğŸ’¡ æ¨è–¦ä½¿ç”¨æ–¹å¼

### æ—¥å¸¸å ´æ™¯

**æ¯éš” 30-60 åˆ†é˜æ‰‹å‹•æª¢æŸ¥ï¼š**
```bash
bash scripts/utils/check_sam2.sh
```

### é•·æ™‚é–“ç›£æ§

**é–‹å•Ÿè‡ªå‹•åˆ·æ–°ï¼Œåœ¨æ—é‚Šå·¥ä½œï¼š**
```bash
bash scripts/utils/check_sam2.sh --watch
```

### æ‡·ç–‘å¡ä½

**ä½¿ç”¨ä»»ä¸€å·¥å…·æŒçºŒè§€å¯Ÿï¼š**
```bash
# æ–¹å¼ 1ï¼šç¾è§€è¼¸å‡º
bash scripts/utils/check_sam2.sh --watch

# æ–¹å¼ 2ï¼šæ—¥èªŒå¼è¼¸å‡º
bash scripts/utils/watch_sam2.sh
```

### å¿«é€Ÿç¥ä¸€çœ¼

**å–®æ¬¡å¿«é€ŸæŸ¥çœ‹ï¼š**
```bash
bash scripts/utils/check_sam2.sh
```

---

## ğŸ¨ è‡ªè¨‚åˆ·æ–°é–“éš”ï¼ˆé€²éšï¼‰

å¦‚æœæ‚¨æƒ³ä¿®æ”¹åˆ·æ–°é–“éš”ï¼ˆé è¨­ 30 ç§’ï¼‰ï¼š

```bash
# ç·¨è¼¯è…³æœ¬
nano scripts/utils/check_sam2.sh

# æ‰¾åˆ°é€™ä¸€è¡Œï¼š
REFRESH_INTERVAL=30

# ä¿®æ”¹ç‚ºæ‚¨æƒ³è¦çš„ç§’æ•¸ï¼Œä¾‹å¦‚ï¼š
REFRESH_INTERVAL=60  # æ¯åˆ†é˜åˆ·æ–°
REFRESH_INTERVAL=10  # æ¯ 10 ç§’åˆ·æ–°ï¼ˆä¸å»ºè­°å¤ªé »ç¹ï¼‰
```

---

## ğŸ” æ´»å‹•ç‹€æ…‹èªªæ˜

è…³æœ¬æœƒæ ¹æ“šæœ€å¾Œæ›´æ–°æ™‚é–“è‡ªå‹•åˆ¤æ–·ç‹€æ…‹ï¼š

| é–’ç½®æ™‚é–“ | ç‹€æ…‹é¡¯ç¤º | èªªæ˜ |
|---------|---------|------|
| < 60s | âœ… Processing normally | æ­£å¸¸è™•ç†ä¸­ |
| 60s - 180s | â³ Processing complex frame | è™•ç†è¤‡é›œå¹€ |
| > 180s | âš ï¸ POSSIBLY STUCK | å¯èƒ½å¡ä½ |

---

## ğŸ“± åœ¨å¾Œå°é‹è¡Œç›£æ§

å¦‚æœæ‚¨æƒ³åœ¨å¾Œå°æŒçºŒç›£æ§ä¸¦è¨˜éŒ„æ—¥èªŒï¼š

```bash
# å•Ÿå‹•å¾Œå°ç›£æ§ï¼ˆæ¯ 60 ç§’è¨˜éŒ„ä¸€æ¬¡ï¼‰
nohup bash -c 'while true; do bash scripts/utils/check_sam2.sh >> logs/monitor.log 2>&1; sleep 60; done' &

# æŸ¥çœ‹æ—¥èªŒ
tail -f logs/monitor.log

# åœæ­¢å¾Œå°ç›£æ§
pkill -f "check_sam2.sh"
```

---

## âŒ¨ï¸ å¿«æ·åˆ¥åï¼ˆå¯é¸ï¼‰

åœ¨ `~/.bashrc` ä¸­æ·»åŠ åˆ¥åï¼š

```bash
# ç·¨è¼¯ .bashrc
nano ~/.bashrc

# æ·»åŠ ä»¥ä¸‹è¡Œï¼š
alias sam2='bash /mnt/c/AI_LLM_projects/3d-animation-lora-pipeline/scripts/utils/check_sam2.sh'
alias sam2w='bash /mnt/c/AI_LLM_projects/3d-animation-lora-pipeline/scripts/utils/check_sam2.sh --watch'

# é‡æ–°è¼‰å…¥
source ~/.bashrc
```

ä¹‹å¾Œåªéœ€è¼¸å…¥ï¼š
```bash
sam2    # å–®æ¬¡æª¢æŸ¥
sam2w   # è‡ªå‹•ç›£æ§
```

---

## ğŸ¯ ç¸½çµ

**å¿«é€Ÿåƒè€ƒï¼š**

```bash
# æŸ¥çœ‹ä¸€æ¬¡
bash scripts/utils/check_sam2.sh

# è‡ªå‹•ç›£æ§
bash scripts/utils/check_sam2.sh --watch

# åœæ­¢ç›£æ§
æŒ‰ Ctrl+C
```

**æœ€ä½³å¯¦è¸ï¼š**
1. é–‹å§‹è™•ç†å¾Œï¼Œé–‹å•Ÿä¸€æ¬¡ `--watch` æ¨¡å¼è§€å¯Ÿ 5-10 åˆ†é˜
2. ç¢ºèªæ­£å¸¸é‹è¡Œå¾Œé—œé–‰
3. æ¯éš” 30-60 åˆ†é˜æ‰‹å‹•æª¢æŸ¥ä¸€æ¬¡
4. è™•ç†å¿«å®Œæˆæ™‚ï¼ˆ90%+ï¼‰å†æ¬¡é–‹å•Ÿ `--watch` æ¨¡å¼

äº«å—è‡ªå‹•ç›£æ§åŠŸèƒ½ï¼ğŸ‰
